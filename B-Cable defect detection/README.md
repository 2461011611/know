# 任务电缆缺陷检测


1. 测量电缆直径

2.绘制直径和标注

3.检测并分类缺陷

步骤描述：
概述：

1. 测量电缆直径 (count_dia 和 draw_lines 函数)
count_dia 函数：

      输入：目标二值图像 (tgt) 和要测量的行 (row)。
      功能：检测给定行上的白色像素（假设电缆的边界是白色像素）。
      输出：直径的起点和终点，以及直径值。
      draw_lines 函数：

      输入：原始图像 (org_img)、直径起点 (p1)、直径终点 (p2)、行号 (row)。
      
      功能：在图像上绘制直径的边界线以及标注直径数值。

2. 检测和分类缺陷 (defects 函数)

输入：二值边缘图像 (edges_img) 和原始图像 (img)。

功能：
    使用轮廓检测找到图像中的缺陷。
    过滤掉像素点数太小的轮廓。
    合并相邻的轮廓，以减少干扰。
    根据轮廓的最小外接圆，判断每个缺陷的大小，并分类为：
    "Pin Hole"（小孔），"Cut"（切口），"Scratch"（划痕）
     在原图上绘制圈定缺陷的圆，并标注分类结果。

3. 图像预处理
主要步骤：
        转为灰度图像。
        根据像素值对背景进行处理，使其变成白色。
        使用 Canny 算法进行边缘检测。
4. 主函数 (main)

      读取输入图像。
      转换为灰度图，并处理背景噪声。
      进行边缘检测。
      调用 count_dia 和 draw_lines 测量直径。
      调用 defects 检测和标记缺陷。
      显示最终处理结果。
